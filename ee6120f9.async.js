(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1331:function(t,r,s){"use strict";s.r(r);var _=function(){var t=this.$createElement;this._self._c;return this._m(0)};_._withStripped=!0;var e=s(50),a=Object(e.a)({},_,[function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",[s("h1",[t._v("获取用户信息")]),t._v(" "),s("p",[t._v("我们准备了两个方法来获取用户信息和验证信息.")]),t._v(" "),s("ul",[s("li",[s("code",{pre:!0},[t._v("this.GET_USER_INFO()")]),t._v(" 获取用户信息")]),t._v(" "),s("li",[s("code",{pre:!0},[t._v("this.GET_TOKEN()")]),t._v(" 获取 4A 用户 token")])]),t._v(" "),s("p",[t._v("要想正常的使用这两个 api,依赖一个公共的 mixin"),s("code",{pre:!0},[t._v("portalCardMixin")])]),t._v(" "),s("pre",{pre:!0},[s("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s("span",{pre:!0,attrs:{class:"hljs-comment"}},[t._v("// 导入")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("import")]),t._v(" { portalCardMixin } "),s("span",{pre:!0,attrs:{class:"hljs-keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"hljs-string"}},[t._v("'@jxstjh/portal/lib/mixins/portalcard'")]),t._v(";\n")])]),t._v(" "),s("h2",{attrs:{id:"用户信息"}},[t._v("用户信息 "),s("a",{staticClass:"anchor",attrs:{href:"#用户信息"}},[t._v("#")])]),t._v(" "),s("p",[t._v("通过"),s("code",{pre:!0},[t._v("this.GET_USER_INFO()")]),t._v("获取到的用户信息是当前登入水利门户的用户信息.当然,这也是水利人员信息管理系统的标准人员数据.可以通过"),s("code",{pre:!0},[t._v(":PREVIEW_USERINFO")]),t._v("输入属性在开发时模拟.")]),t._v(" "),s("h2",{attrs:{id:"安全验证"}},[t._v("安全验证 "),s("a",{staticClass:"anchor",attrs:{href:"#安全验证"}},[t._v("#")])]),t._v(" "),s("p",[t._v("通过"),s("code",{pre:!0},[t._v("this.GET_TOKEN()")]),t._v("获取到的用户单点登录 4A 系统的用户 token,这个信息有助于您的后台针对来自卡片的请求进行安全验证.或者解析用户信息.可以通过"),s("code",{pre:!0},[t._v(":PREVIEW_TOKEN")]),t._v("输入属性在开发时模拟.")]),t._v(" "),s("h2",{attrs:{id:"小贴士"}},[t._v("小贴士 "),s("a",{staticClass:"anchor",attrs:{href:"#小贴士"}},[t._v("#")])]),t._v(" "),s("p",[t._v("在开发卡片的预览环境里面,是没有真实环境的这两个信息的."),s("code",{pre:!0},[t._v("portalCardMixin")]),t._v("提供了一种方案,这种方案不需要你做额外的代码进行判断,你只需要在预览环境的"),s("em",[t._v("PortalWorkplace.vue")]),t._v("文件里找到你的组件.使用 vue 的 prop 进行模拟.注意,这种模拟不会影响你获取用户信息与安全信息的方法,针对卡片来说,只是换了一个提供数据的方法,毫不影响你获取数据.")]),t._v(" "),s("blockquote",[s("p",[t._v("例:模拟用户信息 "),s("img",{attrs:{src:"https://e.im5i.com/2020/12/02/user.png",alt:"user.png"}})])])])}],!1,null,null,null);a.options.__file="docs/api/get-user-info.zh-CN.md";r.default=a.exports}}]);